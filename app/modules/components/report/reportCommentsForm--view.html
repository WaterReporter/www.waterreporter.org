<div data-ng-if="!page.comment.edit" class="report--comments--comment report--comments--form">

  <a class="report--comment--avatar" href="/profiles/{{ $root.user.id }}">
    <img data-ng-if="$root.user.properties.email"
         gravatar-src="'{{ $root.user.properties.email }}'"
         gravatar-size="64" />
  </a>

  <p class="report--comment--author">
    <a href="/profiles/{{ $root.user.id }}">
      {{ $root.user.properties.first_name }} {{ $root.user.properties.last_name }}
    </a>
  </p>

  <form data-ng-if="$root.isLoggedIn" class="site--report--comment form" role="form" id="form--reports--comment" name="form--reports--comment">

    <div class="form-group">
      <textarea id="report--commentBody" name="report--commentBody" class="form-control" data-ng-model="page.comment.data.body" placeholder="Join the conversation">
      </textarea>
    </div>
    <button data-ng-if="$root.isAdmin && page.data.properties.state !== 'closed'" data-ng-if="page.data.properties.state !== 'closed'" class="button button--info" data-ng-click="page.comment.close(page.data.id)">
      Close Report
    </button>
    <button data-ng-if="$root.isAdmin && page.data.properties.state === 'closed'" data-ng-if="page.data.properties.state === 'closed'" class="button button--info" data-ng-click="page.comment.open(page.data.id)">
      Reopen Report
    </button>
    <button id="report--comment--submit" name="report--comment--submit" class="button" data-ng-click="page.comment.save(page.data.id)">
      Comment
    </button>
  </form>

</div>
